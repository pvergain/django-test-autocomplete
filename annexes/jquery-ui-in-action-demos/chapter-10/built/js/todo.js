(function(e){typeof define=="function"&&define.amd?define(["jquery","jquery-ui/widget"],e):e(jQuery)})(function(e){return e.widget("tj.todo",{defaultElement:"<ul>",options:{name:"todo"},_create:function(){this.element.addClass("tj-todo ui-widget ui-widget-content ui-corner-all"),this._renderList(),this._on(this.element,{"click input":function(t){if(e(t.target).parents(".ui-state-disabled").length>0){t.preventDefault();return}this._renderList(),this._trigger(t.target.checked?"check":"uncheck",t,{value:t.target.value})}})},add:function(e){this.element.append("<li>"+e+"</li>"),this._renderList(),this._trigger("add",null,{value:e})},remove:function(e){this.element.find("[value='"+e+"']").parents("li:first").remove(),this._trigger("remove",null,{value:e})},check:function(e){this._toggleCheckbox(e,!0),this._trigger("check",null,{value:e})},uncheck:function(e){this._toggleCheckbox(e,!1),this._trigger("uncheck",null,{value:e})},_toggleCheckbox:function(e,t){this.element.find("[value='"+e+"']").prop("checked",t),this._renderList()},_setOption:function(e,t){this._super(e,t),this._renderList(),e=="disabled"&&(this.element.find("input").prop("disabled",t),this.element.find("li").toggleClass("ui-state-disabled",t))},_renderList:function(){var t=this;this.element.find("li").each(function(){var n=e(this).addClass("tj-todo-item ui-state-default"),r=n.find(":checked").length===1,i=e("<label>"),s=e("<input>",{type:"checkbox",name:t.options.name,value:n.text(),checked:r});n.toggleClass("ui-state-active",r),i.append(s).append(n.text()),n.html(i),t._hoverable(n),t._focusable(n)})},_destroy:function(){this.element.removeClass("tj-todo ui-widget ui-widget-content ui-corner-all").find("li").each(function(){var t=e(this).removeClass("tj-todo-item ui-state-default"),n=t.find("input"),r=t.text();n.is(":checked")?t.remove():t.html(r)})}})});